<!-- ç¤¾åŒºä¸»é¡µ - é£Ÿè°±åˆ—è¡¨ -->
<view class="container">
  <scroll-view 
    class="scroll-view" 
    scroll-y 
    refresher-enabled="{{true}}"
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <!-- çƒ­é—¨é£Ÿè°± -->
    <view class="hot-section" wx:if="{{hotRecipes.length > 0}}">
      <view class="section-title">çƒ­é—¨é£Ÿè°±</view>
      <scroll-view class="hot-scroll" scroll-x>
        <view class="hot-list">
          <view 
            class="hot-item" 
            wx:for="{{hotRecipes}}" 
            wx:key="_id"
            bindtap="onRecipeTap"
            data-id="{{item._id}}"
          >
            <image 
              class="hot-image" 
              src="{{item.images && item.images[0] || '/images/default_food.jpg'}}" 
              mode="aspectFill"
            ></image>
            <view class="hot-info">
              <text class="hot-title">{{item.title}}</text>
              <view class="hot-stats">
                <text class="hot-like">ğŸ‘ {{item.likeCount || 0}}</text>
              </view>
            </view>
          </view>
        </view>
      </scroll-view>
    </view>

    <!-- æ‰€æœ‰é£Ÿè°±åˆ—è¡¨ -->
    <view class="recipes-section">
      <view class="section-title">å…¨éƒ¨é£Ÿè°±</view>
      <view class="recipes-list" wx:if="{{recipes.length > 0}}">
        <view 
          class="recipe-item" 
          wx:for="{{recipes}}" 
          wx:key="_id"
          bindtap="onRecipeTap"
          data-id="{{item._id}}"
        >
          <image 
            class="recipe-image" 
            src="{{item.images && item.images[0] || '/images/default_food.jpg'}}" mode="aspectFill"></image>
          <view class="recipe-info">
            <view class="recipe-header">
              <text class="recipe-title">{{item.title}}</text>
              <view class="recipe-tags">
                <text class="recipe-tag" wx:if="{{item.typeValue}}">{{item.typeValue}}</text>
              </view>
            </view>
            <view class="recipe-stats">
              <text class="recipe-stat">ğŸ‘ {{item.likeCount || 0}}</text>
              <text class="recipe-stat">â­ {{item.collectCount || 0}}</text>
              <text class="recipe-time">{{item.createTime}}</text>
            </view>
          </view>
        </view>
      </view>
      <empty wx:else text="æš‚æ— é£Ÿè°±ï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€æ¡å§~" show-action="{{true}}">
        <view slot="action">
          <button class="btn btn-primary" bindtap="navigateToPublish">å‘å¸ƒé£Ÿè°±</button>
        </view>
      </empty>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" wx:if="{{recipes.length > 0}}">
      <text wx:if="{{loadingMore}}">åŠ è½½ä¸­...</text>
      <text wx:elif="{{!hasMore}}">æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </scroll-view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="fab" bindtap="navigateToPublish">
    <text class="fab-icon">+</text>
  </view>
</view>

<!-- åŠ è½½ç»„ä»¶ -->
<loading show="{{loading}}" text="åŠ è½½ä¸­..."></loading>